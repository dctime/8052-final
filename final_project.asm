ORG 0000H
AJMP RESETR2
ORG 0050H

RESETR2: // 重設R2 (R1是為了一開始設R1為1, 第一遍不會走RESETR1)
	MOV R1, #00000001B //欄
	MOV R2, #00000001B //列
CHECKR2: // 檢查R2有沒有超過值域
	CJNE R2, #10000000B, CHECKEDR2
	AJMP RESETR2
CHECKEDR2: //先設在改 下一輪檢查
	MOV P1, R2 
	
	MOV A, R2
	RL A
	MOV R2, A
	
	AJMP CHECKR1

RESETR1: // 重設R1
	MOV R1, #00000001B // 行
	AJMP CHECKR2 // 唯一 R2 要改的時機
CHECKR1: // 檢查R1有沒有超過值域
	CJNE R1, #00100000B, CHECKEDR1
	AJMP RESETR1
CHECKEDR1: //先設在改 下一輪檢查
	MOV P0, R1

	MOV A, R1
	RL A
	MOV R1, A

	ACALL DELAY // 每輪都會走 CHECKDR1 DELAY 放這
	AJMP CHECKR1

DELAY:
	MOV R5, #010H
DELAY1:
	MOV R6, #0FFH
DELAY2:
	MOV R7, #0FFH
DELAY3:
	DJNZ R7, DELAY3
	DJNZ R6, DELAY2
	DJNZ R5, DELAY1
	RET
END
